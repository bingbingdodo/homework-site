<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master 숙제 관리</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container master-container">
        <a href="/logout" class="logout-btn">로그아웃</a>
        <h1>학생별 숙제 관리</h1>
        
        <form action="/master/update" method="POST">
            <!-- views/master_dashboard.ejs -->
            <div class="student-grid">
                <!-- students 변수가 존재하는지, 배열인지 먼저 확인 -->
                <% if (students && students.length > 0) { %>
                    <% students.forEach(student => { %>
                        <div class="student-card">
                            <!-- student.username, student._id, student.homework 값이 잘 출력되는지 확인 -->
                            <h3><%= student.username %></h3>
                            <textarea name="homeworks[<%= student._id %>]"><%= student.homework %></textarea>
                        </div>
                    <% }); %>
                <% } else { %>
                    <p>등록된 학생이 없습니다.</p>
                <% } %>
            </div>
            <button type="submit" class="save-all-btn">모든 변경사항 저장</button>
        </form>
    </div>
</body>
</html>